2023-10-28 15:11:54,796 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (65ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-28 15:11:55,028 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (156ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-28 15:11:55,295 [6] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [dbo].[OpenIddictApplications] (
    [Id] nvarchar(450) NOT NULL,
    [ClientId] nvarchar(100) NULL,
    [ClientSecret] nvarchar(max) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [ConsentType] nvarchar(50) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Permissions] nvarchar(max) NULL,
    [PostLogoutRedirectUris] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedirectUris] nvarchar(max) NULL,
    [Requirements] nvarchar(max) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictApplications] PRIMARY KEY ([Id])
);
2023-10-28 15:11:55,302 [6] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [dbo].[OpenIddictScopes] (
    [Id] nvarchar(450) NOT NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [Description] nvarchar(max) NULL,
    [Descriptions] nvarchar(max) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Name] nvarchar(200) NULL,
    [Properties] nvarchar(max) NULL,
    [Resources] nvarchar(max) NULL,
    CONSTRAINT [PK_OpenIddictScopes] PRIMARY KEY ([Id])
);
2023-10-28 15:11:55,311 [6] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [dbo].[Role] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(256) NOT NULL,
    [UserType] int NOT NULL,
    [Description] nvarchar(1024) NULL,
    [CreatedDate] datetime2 NULL,
    [CreatedBy] int NULL,
    [ModifiedDate] datetime2 NULL,
    [ModifiedBy] int NULL,
    [DeletedDate] datetime2 NULL,
    [Deleted] bit NOT NULL,
    [DeletedBy] int NULL,
    CONSTRAINT [PK_Role] PRIMARY KEY ([Id])
);
2023-10-28 15:11:55,323 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [dbo].[User] (
    [Id] int NOT NULL IDENTITY,
    [Username] varchar(128) NOT NULL,
    [Password] varchar(128) NOT NULL,
    [Email] varchar(128) NULL,
    [Phone] varchar(128) NULL,
    [FullName] nvarchar(256) NULL,
    [UserType] int NOT NULL,
    [CustomerId] int NULL,
    [SupplierId] int NULL,
    [Status] int NOT NULL DEFAULT 1,
    [CreatedDate] datetime2 NULL DEFAULT (getdate()),
    [CreatedBy] int NULL,
    [ModifiedDate] datetime2 NULL,
    [ModifiedBy] int NULL,
    [DeletedDate] datetime2 NULL,
    [DeletedBy] int NULL,
    [Deleted] bit NOT NULL,
    CONSTRAINT [PK_User] PRIMARY KEY ([Id])
);
2023-10-28 15:11:55,332 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [dbo].[OpenIddictAuthorizations] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [Properties] nvarchar(max) NULL,
    [Scopes] nvarchar(max) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictAuthorizations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictAuthorizations_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [dbo].[OpenIddictApplications] ([Id])
);
2023-10-28 15:11:55,337 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [dbo].[RolePermission] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] int NOT NULL,
    [PermissionKey] varchar(128) NOT NULL,
    [CreatedDate] datetime2 NULL,
    [CreatedBy] int NULL,
    CONSTRAINT [PK_RolePermission] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RolePermission_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[Role] ([Id]) ON DELETE CASCADE
);
2023-10-28 15:11:55,345 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [dbo].[UserRole] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [RoleId] int NOT NULL,
    [CreatedDate] datetime2 NULL,
    [CreatedBy] int NULL,
    [ModifiedDate] datetime2 NULL,
    [ModifiedBy] int NULL,
    [DeletedDate] datetime2 NULL,
    [Deleted] bit NOT NULL,
    [DeletedBy] int NULL,
    CONSTRAINT [PK_UserRole] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserRole_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[Role] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRole_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[User] ([Id]) ON DELETE CASCADE
);
2023-10-28 15:11:55,350 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [dbo].[OpenIddictTokens] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [AuthorizationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [ExpirationDate] datetime2 NULL,
    [Payload] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedemptionDate] datetime2 NULL,
    [ReferenceId] nvarchar(100) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [dbo].[OpenIddictApplications] ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictAuthorizations_AuthorizationId] FOREIGN KEY ([AuthorizationId]) REFERENCES [dbo].[OpenIddictAuthorizations] ([Id])
);
2023-10-28 15:11:55,402 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CustomerId', N'Deleted', N'DeletedBy', N'DeletedDate', N'Email', N'FullName', N'ModifiedBy', N'ModifiedDate', N'Password', N'Phone', N'Status', N'SupplierId', N'UserType', N'Username') AND [object_id] = OBJECT_ID(N'[dbo].[User]'))
    SET IDENTITY_INSERT [dbo].[User] ON;
INSERT INTO [dbo].[User] ([Id], [CreatedBy], [CustomerId], [Deleted], [DeletedBy], [DeletedDate], [Email], [FullName], [ModifiedBy], [ModifiedDate], [Password], [Phone], [Status], [SupplierId], [UserType], [Username])
VALUES (1, NULL, NULL, CAST(0 AS bit), NULL, NULL, NULL, N'admin', NULL, NULL, '46F94C8DE14FB36680850768FF1B7F2A', NULL, 1, NULL, 1, 'admin');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CustomerId', N'Deleted', N'DeletedBy', N'DeletedDate', N'Email', N'FullName', N'ModifiedBy', N'ModifiedDate', N'Password', N'Phone', N'Status', N'SupplierId', N'UserType', N'Username') AND [object_id] = OBJECT_ID(N'[dbo].[User]'))
    SET IDENTITY_INSERT [dbo].[User] OFF;
2023-10-28 15:11:55,416 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictApplications_ClientId] ON [dbo].[OpenIddictApplications] ([ClientId]) WHERE [ClientId] IS NOT NULL;
2023-10-28 15:11:55,423 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictAuthorizations_ApplicationId_Status_Subject_Type] ON [dbo].[OpenIddictAuthorizations] ([ApplicationId], [Status], [Subject], [Type]);
2023-10-28 15:11:55,428 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictScopes_Name] ON [dbo].[OpenIddictScopes] ([Name]) WHERE [Name] IS NOT NULL;
2023-10-28 15:11:55,435 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_ApplicationId_Status_Subject_Type] ON [dbo].[OpenIddictTokens] ([ApplicationId], [Status], [Subject], [Type]);
2023-10-28 15:11:55,439 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_AuthorizationId] ON [dbo].[OpenIddictTokens] ([AuthorizationId]);
2023-10-28 15:11:55,443 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictTokens_ReferenceId] ON [dbo].[OpenIddictTokens] ([ReferenceId]) WHERE [ReferenceId] IS NOT NULL;
2023-10-28 15:11:55,447 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Role] ON [dbo].[Role] ([Deleted], [Name]);
2023-10-28 15:11:55,450 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RolePermission] ON [dbo].[RolePermission] ([RoleId], [PermissionKey]);
2023-10-28 15:11:55,474 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_User] ON [dbo].[User] ([Deleted], [Username]);
2023-10-28 15:11:55,479 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRole] ON [dbo].[UserRole] ([Deleted], [UserId], [RoleId]);
2023-10-28 15:11:55,484 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRole_RoleId] ON [dbo].[UserRole] ([RoleId]);
2023-10-28 15:11:55,488 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UserRole_UserId] ON [dbo].[UserRole] ([UserId]);
2023-10-28 15:11:56,072 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (78ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 15:11:56,190 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 15:11:56,524 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 15:11:56,587 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 15:11:56,605 [20] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 15:11:56,618 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 15:11:56,828 [19] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-28 15:11:56,978 [19] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-28 15:11:56,980 [19] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-28 15:11:57,060 [19] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-28 15:11:57,063 [19] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-28 15:11:57,065 [19] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-28 15:11:57,067 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:37384:d3dce0af successfully announced in 11.0498 ms
2023-10-28 15:11:57,074 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:37384:d3dce0af is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-28 15:11:57,364 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:37384:d3dce0af all the dispatchers started
2023-10-28 15:14:46,934 [138] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 15:14:46,977 [138] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 15:14:47,182 [139] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [dbo].[OpenIddictScopes] AS [o]
WHERE [o].[Name] = N'offline_'
2023-10-28 15:14:47,199 [139] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was rejected because invalid scopes were specified: offline_.
2023-10-28 15:14:47,221 [139] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "error": "invalid_scope",
  "error_description": "The specified 'scope' is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2052"
}.
2023-10-28 15:14:56,719 [140] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 15:14:56,728 [140] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 15:14:56,843 [141] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 15:14:56,896 [141] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 15:14:57,384 [141] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 15:14:57,627 [139] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 15:14:57,851 [142] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 15:14:57,886 [142] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 818112fd-d6ca-4789-9eaa-492bd7173a23.
2023-10-28 15:14:57,980 [139] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 15:14:58,026 [139] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 15:14:58,193 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 15:14:59,061 [8] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.TypeLoadException: Could not load type 'Microsoft.IdentityModel.Json.Linq.JObject' from assembly 'Microsoft.IdentityModel.Tokens, Version=7.0.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.CreateToken(SecurityTokenDescriptor tokenDescriptor)
   at OpenIddict.Server.OpenIddictServerHandlers.Protection.GenerateIdentityModelToken.HandleAsync(GenerateTokenContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerHandlers.GenerateAccessToken.HandleAsync(ProcessSignInContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandler.SignInAsync(ClaimsPrincipal user, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.SignInAsync(HttpContext context, String scheme, ClaimsPrincipal principal, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultFilters>g__Awaited|28_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at MYTICKET.WEB.API.MiddleWare.CheckUserMiddleware.InvokeAsync(HttpContext context) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\MiddleWare\CheckUserMiddleware.cs:line 45
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at MYTICKET.BASE.API.Middlewares.RequestLocalizationMiddleware.InvokeAsync(HttpContext context) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MYTICKET.BASE.API\MiddleWares\RequestLocalizationMiddleware.cs:line 28
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 94
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-28 17:25:18,615 [16] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (20,121ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [MyTicker.DB];
2023-10-28 17:28:57,123 [4] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (20,134ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [MyTicker.DB];
2023-10-28 17:43:43,473 [15] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (20,126ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [MyTicker.DB];
2023-10-28 17:48:45,375 [9] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (20,103ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [MyTicker.DB];
2023-10-28 17:52:06,900 [23] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (20,118ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [MyTicker.DB];
2023-10-28 17:56:06,341 [8] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (20,113ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [MyTicker.DB];
2023-10-28 18:15:46,418 [15] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (20,137ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [MyTicker.DB];
2023-10-28 18:51:59,399 [6] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-28 18:51:59,474 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-28 18:51:59,802 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 18:51:59,887 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 18:52:00,094 [9] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-28 18:52:00,183 [9] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-28 18:52:00,185 [9] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-28 18:52:00,274 [9] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-28 18:52:00,278 [9] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-28 18:52:00,282 [9] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-28 18:52:00,286 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:27156:d66710e5 successfully announced in 13.1914 ms
2023-10-28 18:52:00,303 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:27156:d66710e5 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-28 18:52:00,621 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:27156:d66710e5 all the dispatchers started
2023-10-28 18:53:05,789 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 18:53:05,826 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 18:53:05,902 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 18:53:05,941 [14] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 18:53:06,310 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 18:53:06,483 [124] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 18:53:06,804 [127] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 18:53:06,940 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: a2d6f106-d0b6-4ecb-8c20-4974469df85e.
2023-10-28 18:53:06,981 [6] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 18:53:07,011 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 18:53:07,085 [6] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 18:53:07,552 [6] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.TypeLoadException: Could not load type 'Microsoft.IdentityModel.Json.Linq.JObject' from assembly 'Microsoft.IdentityModel.Tokens, Version=7.0.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.CreateToken(SecurityTokenDescriptor tokenDescriptor)
   at OpenIddict.Server.OpenIddictServerHandlers.Protection.GenerateIdentityModelToken.HandleAsync(GenerateTokenContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerHandlers.GenerateAccessToken.HandleAsync(ProcessSignInContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandler.SignInAsync(ClaimsPrincipal user, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.SignInAsync(HttpContext context, String scheme, ClaimsPrincipal principal, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultFilters>g__Awaited|28_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at MYTICKET.WEB.API.MiddleWare.CheckUserMiddleware.InvokeAsync(HttpContext context) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\MiddleWare\CheckUserMiddleware.cs:line 45
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at MYTICKET.BASE.API.Middlewares.RequestLocalizationMiddleware.InvokeAsync(HttpContext context) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MYTICKET.BASE.API\MiddleWares\RequestLocalizationMiddleware.cs:line 28
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 94
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-28 18:58:00,966 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-28 18:58:01,095 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (71ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-28 18:58:01,488 [6] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 18:58:01,615 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 18:58:01,790 [8] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-28 18:58:01,902 [8] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-28 18:58:01,903 [8] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-28 18:58:01,965 [8] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-28 18:58:01,967 [8] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-28 18:58:01,970 [8] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-28 18:58:01,974 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:33904:a14ddf0e successfully announced in 9.6571 ms
2023-10-28 18:58:01,982 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:33904:a14ddf0e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-28 18:58:02,190 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:33904:a14ddf0e all the dispatchers started
2023-10-28 18:58:08,137 [9] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 18:58:08,171 [9] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 18:58:08,241 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 18:58:08,305 [8] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 18:58:08,646 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 18:58:08,943 [4] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 18:58:09,295 [123] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 18:58:09,329 [123] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 71fac221-dbeb-4d1e-a85e-f543520221e1.
2023-10-28 18:58:09,368 [125] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 18:58:09,400 [124] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 18:58:09,504 [125] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 18:58:09,952 [125] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.TypeLoadException: Could not load type 'Microsoft.IdentityModel.Json.Linq.JObject' from assembly 'Microsoft.IdentityModel.Tokens, Version=7.0.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.CreateToken(SecurityTokenDescriptor tokenDescriptor)
   at OpenIddict.Server.OpenIddictServerHandlers.Protection.GenerateIdentityModelToken.HandleAsync(GenerateTokenContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerHandlers.GenerateAccessToken.HandleAsync(ProcessSignInContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandler.SignInAsync(ClaimsPrincipal user, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.SignInAsync(HttpContext context, String scheme, ClaimsPrincipal principal, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultFilters>g__Awaited|28_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at MYTICKET.WEB.API.MiddleWare.CheckUserMiddleware.InvokeAsync(HttpContext context) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\MiddleWare\CheckUserMiddleware.cs:line 45
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at MYTICKET.BASE.API.Middlewares.RequestLocalizationMiddleware.InvokeAsync(HttpContext context) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MYTICKET.BASE.API\MiddleWares\RequestLocalizationMiddleware.cs:line 28
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 94
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-28 18:58:13,732 [124] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 18:58:13,743 [124] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 18:58:13,834 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 18:58:13,848 [14] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 18:58:13,881 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 18:58:13,916 [125] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 18:58:13,940 [125] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 18:58:13,951 [125] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 1a883e43-b32e-4d73-a846-12a64186fc9d.
2023-10-28 18:58:13,971 [124] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 18:58:13,989 [125] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 18:58:14,022 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 18:58:14,528 [9] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.TypeLoadException: Could not load type 'Microsoft.IdentityModel.Json.Linq.JObject' from assembly 'Microsoft.IdentityModel.Tokens, Version=7.0.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.CreateToken(SecurityTokenDescriptor tokenDescriptor)
   at OpenIddict.Server.OpenIddictServerHandlers.Protection.GenerateIdentityModelToken.HandleAsync(GenerateTokenContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerHandlers.GenerateAccessToken.HandleAsync(ProcessSignInContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.OpenIddictServerDispatcher.DispatchAsync[TContext](TContext context)
   at OpenIddict.Server.AspNetCore.OpenIddictServerAspNetCoreHandler.SignInAsync(ClaimsPrincipal user, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.SignInAsync(HttpContext context, String scheme, ClaimsPrincipal principal, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultFilters>g__Awaited|28_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at MYTICKET.WEB.API.MiddleWare.CheckUserMiddleware.InvokeAsync(HttpContext context) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\MiddleWare\CheckUserMiddleware.cs:line 45
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at MYTICKET.BASE.API.Middlewares.RequestLocalizationMiddleware.InvokeAsync(HttpContext context) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MYTICKET.BASE.API\MiddleWares\RequestLocalizationMiddleware.cs:line 28
   at StackExchange.Profiling.MiniProfilerMiddleware.Invoke(HttpContext context) in C:\projects\dotnet\src\MiniProfiler.AspNetCore\MiniProfilerMiddleware.cs:line 94
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-10-28 19:14:32,027 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-28 19:14:32,198 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (114ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-28 19:14:32,899 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (83ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 19:14:33,047 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 19:14:33,336 [9] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-28 19:14:33,498 [9] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-28 19:14:33,500 [9] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-28 19:14:33,565 [9] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-28 19:14:33,570 [9] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-28 19:14:33,574 [9] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-28 19:14:33,576 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:14932:0301059f successfully announced in 16.3561 ms
2023-10-28 19:14:33,589 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:14932:0301059f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-28 19:14:34,582 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:14932:0301059f all the dispatchers started
2023-10-28 19:14:50,882 [6] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 19:14:50,954 [6] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 19:14:51,076 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 19:14:51,158 [8] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 19:14:51,681 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 19:14:51,937 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:14:52,377 [125] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 19:14:52,447 [125] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 37d766ef-3669-4aa9-81b2-9fed51786a14.
2023-10-28 19:14:52,521 [123] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:14:52,584 [122] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:14:52,734 [125] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:14:53,138 [123] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:14:53,155 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:14:53,178 [125] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:14:53,294 [125] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "refresh_token": "[redacted]"
}.
2023-10-28 19:15:18,431 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:15:18,443 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:15:18,464 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:15:28,316 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:15:28,325 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:15:28,332 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:15:50,914 [128] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:15:50,922 [128] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:15:50,930 [128] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:16:26,719 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Configuration.
2023-10-28 19:16:26,728 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The configuration request was successfully extracted: {}.
2023-10-28 19:16:26,735 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The configuration request was successfully validated.
2023-10-28 19:16:26,749 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "issuer": "http://localhost:5030/",
  "authorization_endpoint": "http://localhost:5030/connect/authorize",
  "token_endpoint": "http://localhost:5030/connect/token",
  "end_session_endpoint": "http://localhost:5030/connect/logout",
  "userinfo_endpoint": "http://localhost:5030/connect/userinfo",
  "jwks_uri": "http://localhost:5030/.well-known/jwks",
  "grant_types_supported": [
    "password",
    "refresh_token"
  ],
  "scopes_supported": [
    "openid",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-28 19:16:44,302 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:16:44,311 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:16:44,319 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:17:03,658 [129] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:17:03,665 [129] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:17:03,672 [129] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:17:04,130 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:17:04,142 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:17:04,154 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:17:04,307 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:17:04,317 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:17:04,322 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:17:04,483 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:17:04,493 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:17:04,502 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:17:04,748 [128] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:17:04,755 [128] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:17:04,763 [128] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:18:00,144 [126] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:18:00,158 [126] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:18:00,164 [126] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:23:27,575 [135] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:23:27,586 [135] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:23:27,593 [135] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:33:31,903 [174] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 19:33:31,913 [174] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 19:33:32,056 [178] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 19:33:32,075 [178] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 19:33:41,640 [178] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 19:33:41,675 [175] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:33:41,747 [180] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 19:33:41,756 [180] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 202de047-69e7-45af-b3ad-dcce574b926e.
2023-10-28 19:33:41,773 [178] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:33:41,794 [177] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:33:41,812 [180] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:33:41,835 [178] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:33:41,853 [177] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:33:41,883 [180] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:33:41,908 [180] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "refresh_token": "[redacted]"
}.
2023-10-28 19:33:51,076 [180] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Configuration.
2023-10-28 19:33:51,082 [180] INFO OpenIddict.Server.OpenIddictServerDispatcher - The configuration request was successfully extracted: {}.
2023-10-28 19:33:51,091 [180] INFO OpenIddict.Server.OpenIddictServerDispatcher - The configuration request was successfully validated.
2023-10-28 19:33:51,103 [180] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "issuer": "http://localhost:5030/",
  "authorization_endpoint": "http://localhost:5030/connect/authorize",
  "token_endpoint": "http://localhost:5030/connect/token",
  "end_session_endpoint": "http://localhost:5030/connect/logout",
  "userinfo_endpoint": "http://localhost:5030/connect/userinfo",
  "jwks_uri": "http://localhost:5030/.well-known/jwks",
  "grant_types_supported": [
    "password",
    "refresh_token"
  ],
  "scopes_supported": [
    "openid",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-28 19:39:19,063 [167] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 19:39:19,075 [167] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:39:19,087 [167] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:40:06,051 [164] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 19:40:06,075 [164] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client-secret": "52F4A9A45C1F21B53B62F56DA52F7"
}.
2023-10-28 19:40:06,126 [163] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 19:40:06,138 [163] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was rejected because the confidential application 'client-angular' didn't specify a client secret.
2023-10-28 19:40:06,150 [163] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "error": "invalid_client",
  "error_description": "The 'client_secret' parameter required for this client application is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2054"
}.
2023-10-28 19:40:16,606 [165] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 19:40:16,621 [165] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 19:40:16,645 [162] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 19:40:16,674 [162] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 19:40:20,469 [162] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 19:40:20,508 [165] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:40:20,571 [163] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 19:40:20,581 [163] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 9ae2a2ec-dfe5-462d-a532-04119be24db2.
2023-10-28 19:40:20,598 [162] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:40:20,616 [162] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:40:20,641 [163] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:40:20,664 [159] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:40:20,686 [165] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:40:20,703 [159] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:40:20,731 [159] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "refresh_token": "[redacted]"
}.
2023-10-28 19:41:09,767 [162] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 19:41:09,788 [162] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client-secret": "52F4A9A45C1F21B53B62F56DA52F7"
}.
2023-10-28 19:41:09,808 [162] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 19:41:09,819 [162] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was rejected because the confidential application 'client-angular' didn't specify a client secret.
2023-10-28 19:41:09,827 [162] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "error": "invalid_client",
  "error_description": "The 'client_secret' parameter required for this client application is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2054"
}.
2023-10-28 19:41:20,447 [163] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 19:41:20,453 [163] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 19:41:20,470 [161] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 19:41:20,495 [161] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 19:41:20,519 [161] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 19:41:20,541 [162] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:41:20,598 [161] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 19:41:20,618 [161] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 0475aa74-7d5a-43d4-9add-a67f7282bbb6.
2023-10-28 19:41:20,650 [156] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:41:20,680 [156] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:41:20,717 [157] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:41:20,745 [156] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:41:20,768 [162] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:41:20,792 [155] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:41:20,818 [155] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "refresh_token": "[redacted]"
}.
2023-10-28 19:42:02,366 [161] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:42:02,387 [161] INFO OpenIddict.Server.OpenIddictServerDispatcher - The logout request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 19:42:02,424 [156] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 19:42:02,445 [156] INFO OpenIddict.Server.OpenIddictServerDispatcher - The authorization request was rejected because the application 'client-angular' was not allowed to use the authorization endpoint.
2023-10-28 19:42:02,460 [156] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "unauthorized_client",
  "error_description": "This client application is not allowed to use the logout endpoint.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2140"
}.
2023-10-28 19:42:22,572 [153] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 19:42:22,588 [153] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 19:42:22,623 [158] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 19:42:22,641 [158] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 19:42:22,819 [158] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-28 19:42:22,855 [158] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 19:42:22,905 [154] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:42:22,943 [154] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 19:42:22,958 [154] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 44d88df4-66db-4e72-87f3-9d81f955a2a4.
2023-10-28 19:42:22,982 [150] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:42:23,006 [150] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:42:23,081 [150] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:42:23,107 [153] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:42:23,129 [158] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:42:23,153 [149] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:42:23,173 [149] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "refresh_token": "[redacted]"
}.
2023-10-28 19:43:03,765 [151] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:43:03,777 [151] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:43:03,795 [151] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:44:10,006 [144] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:44:10,029 [144] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:44:10,047 [144] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:44:38,335 [140] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:44:38,341 [140] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:44:38,352 [140] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 19:50:50,585 [140] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 19:50:50,603 [140] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 19:50:50,680 [138] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 19:50:50,696 [138] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 19:50:50,718 [138] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 19:50:50,743 [147] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:50:50,781 [138] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 19:50:50,795 [138] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 6d441e84-8143-4988-9abd-eec5404c5007.
2023-10-28 19:50:50,814 [166] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:50:50,843 [166] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:50:50,906 [166] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:50:50,940 [166] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:50:50,957 [166] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 19:50:50,979 [173] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 19:50:50,999 [173] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "refresh_token": "[redacted]"
}.
2023-10-28 19:51:18,963 [166] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 19:51:18,972 [166] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request was rejected because the mandatory 'Content-Type' header was missing.
2023-10-28 19:51:18,982 [166] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The mandatory 'Content-Type' header is missing.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2081"
}.
2023-10-28 22:00:52,193 [15] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (75ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-28 22:00:52,441 [15] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (196ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-28 22:00:53,116 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (111ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 22:00:53,272 [20] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 22:00:53,595 [20] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-28 22:00:53,788 [20] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-28 22:00:53,790 [20] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-28 22:00:53,847 [20] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-28 22:00:53,850 [20] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-28 22:00:53,853 [20] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-28 22:00:53,855 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:38636:f3d85524 successfully announced in 12.3451 ms
2023-10-28 22:00:53,870 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:38636:f3d85524 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-28 22:00:54,229 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:38636:f3d85524 all the dispatchers started
2023-10-28 22:01:32,355 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 22:01:32,424 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 22:01:32,549 [129] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 22:01:32,649 [129] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 22:01:33,601 [129] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 22:01:33,975 [131] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:01:34,418 [133] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 22:01:34,471 [133] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: f91d0f00-d000-48ad-9b9c-f372dcea96b2.
2023-10-28 22:01:34,550 [131] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:01:34,599 [132] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:01:34,729 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 22:01:34,848 [128] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:01:34,866 [133] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:01:34,900 [131] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 22:01:34,996 [131] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "refresh_token": "[redacted]"
}.
2023-10-28 22:01:57,011 [134] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 22:01:57,019 [134] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 22:01:57,193 [137] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 22:01:57,219 [137] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 22:01:57,275 [137] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 22:01:57,302 [134] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:01:57,334 [136] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 22:01:57,347 [136] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: b68814ed-ff00-4540-a9d9-5a6037b685e5.
2023-10-28 22:01:57,369 [134] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:01:57,387 [137] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:01:57,420 [136] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 22:01:57,439 [133] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:01:57,455 [137] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:01:57,477 [136] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 22:01:57,499 [136] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "refresh_token": "[redacted]"
}.
2023-10-28 22:07:04,153 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-28 22:07:04,728 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (546ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-28 22:07:05,577 [6] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (223ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 22:07:05,715 [4] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 22:07:05,961 [4] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-28 22:07:06,136 [4] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-28 22:07:06,137 [4] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-28 22:07:06,215 [4] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-28 22:07:06,221 [4] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-28 22:07:06,227 [4] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-28 22:07:06,246 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:40108:574f2dce successfully announced in 30.4882 ms
2023-10-28 22:07:06,260 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:40108:574f2dce is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-28 22:07:07,310 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:40108:574f2dce all the dispatchers started
2023-10-28 22:07:07,582 [8] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-28 22:07:07,646 [8] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-28 22:07:07,731 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-28 22:07:07,790 [17] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-28 22:07:08,457 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-28 22:07:08,768 [4] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:07:09,293 [126] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (105ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-28 22:07:09,344 [126] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 3e9faa97-2299-42f9-a90e-3fe8fce95a40.
2023-10-28 22:07:09,413 [124] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:07:09,453 [126] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:07:09,549 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 22:07:09,671 [126] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:07:09,688 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-28 22:07:09,716 [125] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-28 22:07:09,812 [125] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "refresh_token": "[redacted]"
}.
2023-10-28 22:07:39,436 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 22:07:39,459 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The logout request was successfully extracted: {}.
2023-10-28 22:07:39,494 [127] INFO OpenIddict.Server.OpenIddictServerDispatcher - The logout request was successfully validated.
2023-10-28 22:07:49,634 [131] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 22:07:49,644 [131] INFO OpenIddict.Server.OpenIddictServerDispatcher - The logout request was successfully extracted: {}.
2023-10-28 22:07:49,653 [131] INFO OpenIddict.Server.OpenIddictServerDispatcher - The logout request was successfully validated.
2023-10-28 22:07:49,833 [131] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-28 22:08:41,721 [132] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o2].[Id], [o2].[ClientId], [o2].[ClientSecret], [o2].[ConcurrencyToken], [o2].[ConsentType], [o2].[DisplayName], [o2].[DisplayNames], [o2].[Permissions], [o2].[PostLogoutRedirectUris], [o2].[Properties], [o2].[RedirectUris], [o2].[Requirements], [o2].[Type], [o0].[Id], [o0].[ApplicationId], [o0].[ConcurrencyToken], [o0].[CreationDate], [o0].[Properties], [o0].[Scopes], [o0].[Status], [o0].[Subject], [o0].[Type]
FROM [dbo].[OpenIddictTokens] AS [o]
LEFT JOIN [dbo].[OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
INNER JOIN [dbo].[OpenIddictAuthorizations] AS [o1] ON [o0].[Id] = [o1].[Id]
LEFT JOIN [dbo].[OpenIddictApplications] AS [o2] ON [o].[ApplicationId] = [o2].[Id]
WHERE [o1].[Id] = @__key_0
2023-10-28 22:09:18,227 [135] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [dbo].[OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-28 22:09:18,250 [135] INFO OpenIddict.Core.OpenIddictTokenManager - The token '0589d78a-340d-4570-ac76-d46c8ea6f419' was successfully revoked.
2023-10-28 22:09:20,691 [137] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [dbo].[OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-28 22:09:20,734 [137] INFO OpenIddict.Core.OpenIddictTokenManager - The token '0fc7074a-1f54-442d-8208-18c1b1f6569a' was successfully revoked.
2023-10-28 22:09:30,747 [137] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as an empty 200 response.
2023-10-28 22:09:59,572 [137] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Logout.
2023-10-28 22:09:59,584 [137] INFO OpenIddict.Server.OpenIddictServerDispatcher - The logout request was successfully extracted: {}.
2023-10-28 22:09:59,595 [137] INFO OpenIddict.Server.OpenIddictServerDispatcher - The logout request was successfully validated.
2023-10-28 22:09:59,627 [137] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-28 22:10:51,725 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o2].[Id], [o2].[ClientId], [o2].[ClientSecret], [o2].[ConcurrencyToken], [o2].[ConsentType], [o2].[DisplayName], [o2].[DisplayNames], [o2].[Permissions], [o2].[PostLogoutRedirectUris], [o2].[Properties], [o2].[RedirectUris], [o2].[Requirements], [o2].[Type], [o0].[Id], [o0].[ApplicationId], [o0].[ConcurrencyToken], [o0].[CreationDate], [o0].[Properties], [o0].[Scopes], [o0].[Status], [o0].[Subject], [o0].[Type]
FROM [dbo].[OpenIddictTokens] AS [o]
LEFT JOIN [dbo].[OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
INNER JOIN [dbo].[OpenIddictAuthorizations] AS [o1] ON [o0].[Id] = [o1].[Id]
LEFT JOIN [dbo].[OpenIddictApplications] AS [o2] ON [o].[ApplicationId] = [o2].[Id]
WHERE [o1].[Id] = @__key_0
2023-10-28 22:10:51,744 [139] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Configuration.
2023-10-28 22:10:51,764 [140] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [dbo].[OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-28 22:10:51,770 [139] INFO OpenIddict.Server.OpenIddictServerDispatcher - The configuration request was successfully extracted: {}.
2023-10-28 22:10:51,775 [140] INFO OpenIddict.Core.OpenIddictTokenManager - The token '0589d78a-340d-4570-ac76-d46c8ea6f419' was successfully revoked.
2023-10-28 22:10:51,786 [139] INFO OpenIddict.Server.OpenIddictServerDispatcher - The configuration request was successfully validated.
2023-10-28 22:10:51,795 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [dbo].[OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-28 22:10:51,805 [3] INFO OpenIddict.Core.OpenIddictTokenManager - The token '0fc7074a-1f54-442d-8208-18c1b1f6569a' was successfully revoked.
2023-10-28 22:10:51,813 [3] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as an empty 200 response.
2023-10-28 22:10:51,823 [139] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "issuer": "http://localhost:5030/",
  "authorization_endpoint": "http://localhost:5030/connect/authorize",
  "token_endpoint": "http://localhost:5030/connect/token",
  "end_session_endpoint": "http://localhost:5030/connect/logout",
  "userinfo_endpoint": "http://localhost:5030/connect/userinfo",
  "jwks_uri": "http://localhost:5030/.well-known/jwks",
  "grant_types_supported": [
    "password",
    "refresh_token"
  ],
  "scopes_supported": [
    "openid",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
