2023-10-29 16:20:30,666 [4] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-29 16:20:30,839 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (138ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-29 16:20:31,253 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (84ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 16:20:31,361 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 16:20:31,762 [9] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-29 16:20:31,922 [9] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-29 16:20:31,926 [9] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-29 16:20:31,966 [9] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-29 16:20:31,966 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:26032:cc26dd93 successfully announced in 5.4505 ms
2023-10-29 16:20:31,968 [9] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-29 16:20:31,970 [9] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-29 16:20:31,979 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:26032:cc26dd93 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-29 16:20:32,640 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:26032:cc26dd93 all the dispatchers started
2023-10-29 16:22:42,945 [15] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-29 16:22:42,980 [15] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-29 16:22:43,090 [134] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 16:22:43,147 [134] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-29 16:22:43,357 [134] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-29 16:22:43,520 [133] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 16:22:43,816 [134] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-29 16:22:43,847 [134] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 1977d5c7-5333-44cb-87ab-5814982ec645.
2023-10-29 16:22:43,902 [133] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 16:22:43,929 [134] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 16:22:44,047 [134] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-29 16:22:44,323 [137] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 16:22:44,334 [136] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 16:22:44,350 [137] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-29 16:22:44,413 [137] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "refresh_token": "[redacted]"
}.
2023-10-29 16:23:14,436 [134] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 16:23:18,720 [134] INFO MYTICKET.WEB.SERVICE.AuthModule.Implements.UserService - FindAll: input = {"Username":null,"FullName":null,"Status":null,"CustomerId":null,"SupplierId":null,"PageSize":1,"PageNumber":1,"Keyword":null,"Sort":null}
2023-10-29 16:23:18,768 [134] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [dbo].[User] AS [u]
WHERE [u].[Deleted] = CAST(0 AS bit)
2023-10-29 16:23:18,826 [134] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Deleted] = CAST(0 AS bit)
ORDER BY [u].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-10-29 16:23:24,757 [134] ERROR MYTICKET.BASE.API.Filters.ExceptionFilter - AutoMapper.AutoMapperMappingException: Path = /api/user/find-all, Query = [{"Key":"pageSize","Value":["1"]},{"Key":"pageNumber","Value":["1"]}], Message = Error mapping types.

Mapping types:
EntityQueryable`1 -> List`1
Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[MYTICKET.WEB.DOMAIN.Entities.User, MYTICKET.WEB.DOMAIN, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[MYTICKET.WEB.SERVICE.AuthModule.Dtos.UserDto.UserDto, MYTICKET.WEB.SERVICE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
EntityQueryable`1 -> List`1
Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[MYTICKET.WEB.DOMAIN.Entities.User, MYTICKET.WEB.DOMAIN, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[MYTICKET.WEB.SERVICE.AuthModule.Dtos.UserDto.UserDto, MYTICKET.WEB.SERVICE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
User -> UserDto
MYTICKET.WEB.DOMAIN.Entities.User -> MYTICKET.WEB.SERVICE.AuthModule.Dtos.UserDto.UserDto
   at lambda_method501(Closure, User, UserDto, ResolutionContext)
   at lambda_method493(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method493(Closure, Object, List`1, ResolutionContext)
   at MYTICKET.WEB.SERVICE.AuthModule.Implements.UserService.FindAll(FilterUserDto input) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\Myticket.Service\AuthModule\Implements\UserService.cs:line 99
   at MYTICKET.WEB.API.Controllers.UserController.FindAll(FilterUserDto input) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\UserController.cs:line 37
   at lambda_method483(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 16:26:15,180 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-29 16:26:15,442 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (230ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-29 16:26:15,913 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (77ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 16:26:16,024 [4] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 16:26:16,259 [4] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-29 16:26:16,394 [4] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-29 16:26:16,394 [4] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-29 16:26:16,449 [4] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-29 16:26:16,452 [4] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-29 16:26:16,454 [4] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-29 16:26:16,460 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:22660:801045c9 successfully announced in 4.021 ms
2023-10-29 16:26:16,470 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:22660:801045c9 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-29 16:26:17,131 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:22660:801045c9 all the dispatchers started
2023-10-29 16:26:21,017 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 16:26:28,531 [9] INFO MYTICKET.WEB.SERVICE.AuthModule.Implements.UserService - FindAll: input = {"Username":null,"FullName":null,"Status":null,"CustomerId":null,"SupplierId":null,"PageSize":1,"PageNumber":1,"Keyword":null,"Sort":null}
2023-10-29 16:26:42,410 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
2023-10-29 16:27:09,630 [9] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [dbo].[User] AS [u]
WHERE [u].[Deleted] = CAST(0 AS bit)
2023-10-29 16:27:09,695 [9] ERROR Microsoft.EntityFrameworkCore.Query - An exception occurred while iterating over the results of a query for context type 'MYTICKET.WEB.Infrastructure.Persistence.MyTicketDbContext'.
System.InvalidOperationException: There is already an open DataReader associated with this Connection which must be closed first.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlConnection.ValidateConnectionForExecute(String method, SqlCommand command)
   at Microsoft.Data.SqlClient.SqlCommand.ValidateCommand(Boolean isAsync, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidOperationException: There is already an open DataReader associated with this Connection which must be closed first.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlConnection.ValidateConnectionForExecute(String method, SqlCommand command)
   at Microsoft.Data.SqlClient.SqlCommand.ValidateCommand(Boolean isAsync, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-10-29 16:27:17,050 [9] ERROR MYTICKET.BASE.API.Filters.ExceptionFilter - System.InvalidOperationException: Path = /api/user/find-all, Query = [{"Key":"pageSize","Value":["1"]},{"Key":"pageNumber","Value":["1"]}], Message = There is already an open DataReader associated with this Connection which must be closed first.
System.InvalidOperationException: There is already an open DataReader associated with this Connection which must be closed first.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlConnection.ValidateConnectionForExecute(String method, SqlCommand command)
   at Microsoft.Data.SqlClient.SqlCommand.ValidateCommand(Boolean isAsync, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method219(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at MYTICKET.WEB.SERVICE.AuthModule.Implements.UserService.FindAll(FilterUserDto input)
   at MYTICKET.WEB.API.Controllers.UserController.FindAll(FilterUserDto input) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\UserController.cs:line 37
   at lambda_method114(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 16:31:51,030 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-29 16:31:51,221 [6] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (164ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-29 16:31:51,573 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 16:31:51,650 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 16:31:51,760 [8] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-29 16:31:51,825 [8] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-29 16:31:51,826 [8] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-29 16:31:51,878 [8] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-29 16:31:51,881 [8] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-29 16:31:51,884 [8] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-29 16:31:51,885 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:2668:21efef21 successfully announced in 9.5928 ms
2023-10-29 16:31:51,894 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:2668:21efef21 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-29 16:31:52,415 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:2668:21efef21 all the dispatchers started
2023-10-29 16:32:10,514 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 16:32:19,456 [8] INFO MYTICKET.WEB.SERVICE.AuthModule.Implements.UserService - FindAll: input = {"Username":null,"FullName":null,"Status":null,"CustomerId":null,"SupplierId":null,"PageSize":1,"PageNumber":1,"Keyword":null,"Sort":null}
2023-10-29 16:32:26,904 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Deleted] = CAST(0 AS bit)
2023-10-29 16:32:32,067 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [dbo].[User] AS [u]
WHERE [u].[Deleted] = CAST(0 AS bit)
2023-10-29 16:32:35,805 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Deleted] = CAST(0 AS bit)
ORDER BY [u].[Id] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2023-10-29 16:32:41,394 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__item_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[RoleId]
FROM [dbo].[UserRole] AS [u]
WHERE [u].[UserId] = @__item_Id_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-29 16:36:17,473 [128] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 16:36:22,618 [128] INFO MYTICKET.WEB.SERVICE.AuthModule.Implements.UserService - CreateUser: input = {"Username":"customer1","Password":"02102001","Email":"tan@gmail.com","Phone":"0839436913","FullName":"Hoang Nhat Tan","UserType":1,"Status":1,"CustomerId":1,"SupplierId":1,"RoleIds":[]}
2023-10-29 16:36:43,169 [128] WARN Microsoft.EntityFrameworkCore.Database.Transaction - Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2023-10-29 16:36:43,251 [128] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (75ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Size = 128) (DbType = AnsiString), @p7='?' (Size = 256), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 128) (DbType = AnsiString), @p11='?' (Size = 128) (DbType = AnsiString), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[User] ([CreatedBy], [CreatedDate], [CustomerId], [Deleted], [DeletedBy], [DeletedDate], [Email], [FullName], [ModifiedBy], [ModifiedDate], [Password], [Phone], [Status], [SupplierId], [UserType], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2023-10-29 20:33:18,350 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-29 20:33:18,625 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (232ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-29 20:33:19,085 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 20:33:19,187 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 20:33:19,480 [9] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-29 20:33:19,663 [9] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-29 20:33:19,666 [9] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-29 20:33:19,806 [9] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-29 20:33:19,808 [9] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-29 20:33:19,817 [9] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-29 20:33:19,820 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:37088:9700d1d6 successfully announced in 13.6678 ms
2023-10-29 20:33:19,830 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:37088:9700d1d6 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-29 20:33:20,570 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:37088:9700d1d6 all the dispatchers started
2023-10-29 20:35:17,789 [129] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-29 20:35:17,847 [129] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "customer1",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-29 20:35:17,976 [129] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 20:35:18,055 [129] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-29 20:35:18,601 [129] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-29 20:35:18,774 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 20:35:19,052 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-29 20:35:19,095 [17] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: feab7e01-63a9-428d-87c0-0f105aeac503.
2023-10-29 20:35:19,151 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 20:35:19,188 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 20:35:19,259 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-29 20:35:19,497 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 20:35:19,507 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 20:35:19,523 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-29 20:35:19,586 [10] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "refresh_token": "[redacted]"
}.
2023-10-29 20:35:48,807 [126] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Configuration.
2023-10-29 20:35:48,818 [126] INFO OpenIddict.Server.OpenIddictServerDispatcher - The configuration request was successfully extracted: {}.
2023-10-29 20:35:48,828 [126] INFO OpenIddict.Server.OpenIddictServerDispatcher - The configuration request was successfully validated.
2023-10-29 20:35:48,849 [126] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "issuer": "http://localhost:5030/",
  "authorization_endpoint": "http://localhost:5030/connect/authorize",
  "token_endpoint": "http://localhost:5030/connect/token",
  "end_session_endpoint": "http://localhost:5030/connect/logout",
  "userinfo_endpoint": "http://localhost:5030/connect/userinfo",
  "jwks_uri": "http://localhost:5030/.well-known/jwks",
  "grant_types_supported": [
    "password",
    "refresh_token"
  ],
  "scopes_supported": [
    "openid",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-29 20:36:43,815 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 20:36:43,903 [8] ERROR MYTICKET.BASE.API.Filters.ExceptionFilter - System.InvalidOperationException: Path = /api/file/upload, Query = [{"Key":"folder","Value":["value"]}], Message = Unable to resolve service for type 'MYTICKET.WEB.SERVICE.FileModule.Abstracts.IFileService' while attempting to activate 'MYTICKET.WEB.API.Controllers.FileController'.
System.InvalidOperationException: Unable to resolve service for type 'MYTICKET.WEB.SERVICE.FileModule.Abstracts.IFileService' while attempting to activate 'MYTICKET.WEB.API.Controllers.FileController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method487(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 20:38:13,329 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-29 20:38:13,580 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (205ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-29 20:38:14,140 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (68ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 20:38:14,338 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 20:38:14,864 [10] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-29 20:38:15,013 [10] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-29 20:38:15,016 [10] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-29 20:38:15,051 [10] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-29 20:38:15,053 [10] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-29 20:38:15,056 [10] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-29 20:38:15,057 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:31620:884bfb65 successfully announced in 10.1582 ms
2023-10-29 20:38:15,091 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:31620:884bfb65 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-29 20:38:15,886 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:31620:884bfb65 all the dispatchers started
2023-10-29 20:38:17,804 [6] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 20:38:25,852 [10] INFO MYTICKET.WEB.SERVICE.FileModule.Implements.FileService - Upload file
2023-10-29 20:43:02,384 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-29 20:43:02,620 [4] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (213ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-29 20:43:02,990 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (28ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 20:43:03,082 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 20:43:03,197 [9] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-29 20:43:03,283 [9] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-29 20:43:03,284 [9] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-29 20:43:03,309 [9] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-29 20:43:03,311 [9] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-29 20:43:03,313 [9] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-29 20:43:03,314 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:34292:386c7c08 successfully announced in 5.9902 ms
2023-10-29 20:43:03,321 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:34292:386c7c08 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-29 20:43:03,965 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:34292:386c7c08 all the dispatchers started
2023-10-29 20:44:24,204 [123] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 20:44:26,455 [123] INFO MYTICKET.WEB.SERVICE.FileModule.Implements.FileService - Upload file
2023-10-29 20:46:02,728 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 20:46:13,636 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 20:46:18,207 [124] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 20:46:21,916 [124] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"file","Value":["soldout.web"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config)
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName)
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 20:46:21,971 [124] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"file","Value":["soldout.web"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config)
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName)
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 20:46:28,043 [124] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 20:47:17,474 [4] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 20:47:19,843 [4] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"file","Value":["seatmap.webp"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config)
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName)
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method120(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 20:47:19,892 [4] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"file","Value":["seatmap.webp"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config)
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName)
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method120(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 20:47:26,833 [127] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 20:47:59,550 [129] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 20:48:03,172 [129] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 20:48:05,234 [129] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"file","Value":["seatmap.webp"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config)
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName)
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method120(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 20:48:05,278 [129] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"file","Value":["seatmap.webp"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config)
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName)
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method120(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 20:48:15,431 [124] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 21:46:39,787 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-29 21:46:40,131 [4] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (308ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-29 21:46:40,540 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 21:46:40,639 [4] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 21:46:40,999 [4] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-29 21:46:41,186 [4] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-29 21:46:41,187 [4] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-29 21:46:41,221 [4] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-29 21:46:41,223 [4] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-29 21:46:41,223 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:21204:18052199 successfully announced in 7.19 ms
2023-10-29 21:46:41,225 [4] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-29 21:46:41,237 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:21204:18052199 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-29 21:46:42,215 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:21204:18052199 all the dispatchers started
2023-10-29 21:47:15,019 [14] INFO OpenIddict.Server.OpenIddictServerDispatcher - The request URI matched a server endpoint: Token.
2023-10-29 21:47:15,067 [14] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully extracted: {
  "grant_type": "password",
  "username": "admin",
  "password": "[redacted]",
  "scope": "offline_access",
  "client_id": "client-angular",
  "client_secret": "[redacted]"
}.
2023-10-29 21:47:15,248 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (95ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 21:47:15,318 [14] INFO OpenIddict.Server.OpenIddictServerDispatcher - The token request was successfully validated.
2023-10-29 21:47:15,963 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__username_0='?' (Size = 128) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[CustomerId], [u].[Deleted], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[FullName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[Password], [u].[Phone], [u].[Status], [u].[SupplierId], [u].[UserType], [u].[Username]
FROM [dbo].[User] AS [u]
WHERE [u].[Username] = @__username_0 AND [u].[Deleted] = CAST(0 AS bit)
2023-10-29 21:47:16,175 [126] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 21:47:16,550 [129] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-29 21:47:16,596 [129] INFO OpenIddict.Server.OpenIddictServerDispatcher - An ad hoc authorization was automatically created and associated with the 'client-angular' application: 476e6a6c-4ab7-462d-b1e7-1296a27637b4.
2023-10-29 21:47:16,644 [127] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 21:47:16,677 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 21:47:16,793 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-29 21:47:17,092 [129] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 21:47:17,104 [126] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [dbo].[OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-29 21:47:17,129 [129] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [dbo].[OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-29 21:47:17,218 [129] INFO OpenIddict.Server.OpenIddictServerDispatcher - The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "refresh_token": "[redacted]"
}.
2023-10-29 21:48:53,628 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-10-29 21:48:54,072 [4] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (398ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-29 21:48:54,789 [8] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (81ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 21:48:54,923 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-29 21:48:55,353 [9] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-10-29 21:48:55,573 [9] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-10-29 21:48:55,576 [9] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-10-29 21:48:55,653 [9] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-10-29 21:48:55,655 [9] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-10-29 21:48:55,658 [9] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-10-29 21:48:55,661 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:41624:63eb6fda successfully announced in 8.2999 ms
2023-10-29 21:48:55,671 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:41624:63eb6fda is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-10-29 21:48:56,622 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:41624:63eb6fda all the dispatchers started
2023-10-29 21:49:25,490 [124] ERROR MYTICKET.BASE.API.Filters.ExceptionFilter - System.ArgumentNullException: Path = /api/file/get, Query = [], Message = Value cannot be null. (Parameter 'path4')
System.ArgumentNullException: Value cannot be null. (Parameter 'path4')
   at System.ArgumentNullException.Throw(String paramName)
   at System.IO.Path.Combine(String path1, String path2, String path3, String path4)
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFilePath(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 91
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 48
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:49:25,509 [124] ERROR MYTICKET.BASE.API.Filters.ExceptionFilter - System.ArgumentNullException: Path = /api/file/get, Query = [], Message = Value cannot be null. (Parameter 'path4')
System.ArgumentNullException: Value cannot be null. (Parameter 'path4')
   at System.ArgumentNullException.Throw(String paramName)
   at System.IO.Path.Combine(String path1, String path2, String path3, String path4)
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFilePath(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 91
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 48
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:50:45,669 [127] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (107ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 21:50:48,190 [127] ERROR MYTICKET.BASE.API.Filters.ExceptionFilter - System.ArgumentNullException: Path = /api/file/get, Query = [], Message = Value cannot be null. (Parameter 'path4')
System.ArgumentNullException: Value cannot be null. (Parameter 'path4')
   at System.ArgumentNullException.Throw(String paramName)
   at System.IO.Path.Combine(String path1, String path2, String path3, String path4)
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFilePath(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 91
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 48
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:50:48,202 [127] ERROR MYTICKET.BASE.API.Filters.ExceptionFilter - System.ArgumentNullException: Path = /api/file/get, Query = [], Message = Value cannot be null. (Parameter 'path4')
System.ArgumentNullException: Value cannot be null. (Parameter 'path4')
   at System.ArgumentNullException.Throw(String paramName)
   at System.IO.Path.Combine(String path1, String path2, String path3, String path4)
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFilePath(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 91
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 48
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:52:06,124 [131] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 21:52:11,891 [131] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"folder","Value":["value"]},{"Key":"file","Value":["seatmap.webp"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 51
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:52:11,962 [131] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"folder","Value":["value"]},{"Key":"file","Value":["seatmap.webp"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 51
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:52:37,638 [128] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 21:52:41,052 [128] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"folder","Value":["value"]},{"Key":"file","Value":["seatmap"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 51
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:52:41,112 [128] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"folder","Value":["value"]},{"Key":"file","Value":["seatmap"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 51
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:53:03,019 [128] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
2023-10-29 21:53:38,378 [128] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"folder","Value":["value"]},{"Key":"file","Value":["seatmap"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 51
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:53:38,450 [128] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"folder","Value":["value"]},{"Key":"file","Value":["seatmap"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 51
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:54:05,136 [137] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"folder","Value":["value"]},{"Key":"file","Value":["seatmap.webp"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 51
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:54:05,191 [137] INFO MYTICKET.BASE.API.Filters.ExceptionFilter - MYTICKET.UTILS.CustomException.UserFriendlyException: Path = /api/file/get, Query = [{"Key":"folder","Value":["value"]},{"Key":"file","Value":["seatmap.webp"]}], ErrorCode = FileNotFound, Message = en:error_FileNotFound
MYTICKET.UTILS.CustomException.UserFriendlyException: Exception of type 'MYTICKET.UTILS.CustomException.UserFriendlyException' was thrown.
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName, FileConfig config) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 51
   at MYTICKET.WEB.SERVICE.FileModule.Implements.FileService.GetFile(String folder, String fileName) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\Myticket.Service\FileModule\Implements\FileService.cs:line 34
   at MYTICKET.WEB.API.Controllers.FileController.GetFile(String folder, String file, Boolean download) in D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API\Controllers\FileController.cs:line 37
   at lambda_method113(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2023-10-29 21:55:25,869 [140] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Status]
FROM [dbo].[User] AS [u]
WHERE [u].[Id] = @__userId_0
