2023-11-20 00:20:26,136 [1] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Price' on entity type 'TicketEvent'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-11-20 00:20:26,795 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2023-11-20 00:20:26,905 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (82ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-11-20 00:20:27,543 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (79ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-11-20 00:20:27,652 [6] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [dbo].[OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-11-20 00:20:27,931 [6] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5030
2023-11-20 00:20:28,026 [6] INFO Hangfire.BackgroundJobServer - Starting Hangfire Server using job storage: 'In-Memory Storage'
2023-11-20 00:20:28,027 [6] INFO Hangfire.BackgroundJobServer - Using the following options for Hangfire Server:
    Worker count: 100
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-11-20 00:20:28,075 [6] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2023-11-20 00:20:28,082 [6] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2023-11-20 00:20:28,085 [6] INFO Microsoft.Hosting.Lifetime - Content root path: D:\Do AN Tot Nghiep\MyTicket\src\MyTicket_BE_new\MyTicket.Web\MyTicket.API
2023-11-20 00:20:28,088 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:34352:e7cd3a9a successfully announced in 19.8771 ms
2023-11-20 00:20:28,104 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:34352:e7cd3a9a is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-11-20 00:20:29,436 [BackgroundServerProcess #1] INFO Hangfire.Server.BackgroundServerProcess - Server myticket.base.api:34352:e7cd3a9a all the dispatchers started
2023-11-20 00:21:02,605 [127] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__eventId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[EventName], [e].[EventDescription], [e].[EventImage], [e].[EventTypeId], (
    SELECT TOP(1) [e0].[Name]
    FROM [dbo].[EventType] AS [e0]
    WHERE [e0].[Id] = [e].[EventTypeId]) AS [EventTypeName], (
    SELECT TOP(1) CONVERT(date, [e1].[OrganizationDay])
    FROM [dbo].[EventDetail] AS [e1]
    WHERE [e1].[EventId] = [e].[Id]
    ORDER BY [e1].[OrganizationDay]) AS [FirstEventDate], (
    SELECT TOP(1) CONVERT(date, [e2].[OrganizationDay])
    FROM [dbo].[EventDetail] AS [e2]
    WHERE [e2].[EventId] = [e].[Id]
    ORDER BY [e2].[OrganizationDay] DESC) AS [LastEventDate], [e].[Status]
FROM [dbo].[Event] AS [e]
WHERE [e].[Id] = @__eventId_0 AND [e].[Deleted] = CAST(0 AS bit)
2023-11-20 00:21:02,963 [127] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__eventinfo_Id_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [e].[Id], [e].[EventId], [e0].[EventName], [e0].[EventImage], [e].[EndSaleTicketDate], [e].[EventSeatMapImage], [e].[OrganizationDay], [e].[StartSaleTicketDate], [e].[Status], [e].[VenueId], (
    SELECT TOP(1) [v].[Name]
    FROM [dbo].[Venue] AS [v]
    WHERE [v].[Id] = [e].[VenueId] AND [e].[Deleted] = CAST(0 AS bit)), [e0].[Id], [t].[Id], [t].[Name], [t].[EventDetailId], [t].[Price], CASE
    WHEN (
        SELECT COUNT(*)
        FROM [dbo].[Ticket] AS [t0]
        WHERE [t].[Id] = [t0].[TicketEventId]) < 10 THEN (
        SELECT COUNT(*)
        FROM [dbo].[Ticket] AS [t1]
        WHERE [t].[Id] = [t1].[TicketEventId])
    ELSE 10
END, [t].[Status]
FROM [dbo].[EventDetail] AS [e]
INNER JOIN [dbo].[Event] AS [e0] ON [e].[EventId] = [e0].[Id]
LEFT JOIN [dbo].[TicketEvent] AS [t] ON [e].[Id] = [t].[EventDetailId]
WHERE [e].[EventId] = @__eventinfo_Id_1 AND [e].[Deleted] = CAST(0 AS bit)
ORDER BY [e].[Id], [e0].[Id]
